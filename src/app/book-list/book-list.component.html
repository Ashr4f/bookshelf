<h4 *ngIf="loading">Loading...</h4>
<div class="books-container">
  <div
    *ngFor="let book of allBooks; let i = index"
    [attr.data-isbn]="book.isbn"
    class="book-container"
  >
    <hr />
    <div class="book">
      {{ book.title }}, {{ book.author }},
      {{ allBookAvailabilities[i].length > 1 ? "schools: " : "school: " }}
      {{
        allBookAvailabilities[i]
          .slice(0, -1)
          .join(", ")
          .concat(
            allBookAvailabilities[i].length > 1 ? " and " : "",
            allBookAvailabilities[i].slice(-1)
          )
      }}
      <nz-rate
        [(ngModel)]="booksReviews[i]"
        [nzTooltips]="tooltips"
        nzAllowHalf
        nzDisabled
      ></nz-rate
      >({{ book.reviews.totalCount }})
      <a routerLink="/books/{{ book.isbn }}">VIEW</a>
    </div>
  </div>
</div>
